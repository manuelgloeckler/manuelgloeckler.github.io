




<html lang="en">
  
  <head>
    
      <meta charset="utf-8">
      <title>Bokeh Plot</title>
      
      
        
          
        
        
          
        <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-2.4.2.min.js"></script>
        <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.4.2.min.js"></script>
        <script type="text/javascript">
            Bokeh.set_log_level("info");
        </script>
        
      
      
    
  </head>
  
  
  <body>
    
      
        
          
          
            
              <div class="bk-root" id="742c8eb2-76f1-4366-b77f-87aa3e04d17f" data-root-id="11463"></div>
            
          
        
      
      
        <script type="application/json" id="12690">
          {"411e3b73-4fa5-4dfb-8ce7-8d532d5917ec":{"defs":[],"roots":{"references":[{"attributes":{"children":[{"id":"11462"},{"id":"11459"},{"id":"11415"}],"js_event_callbacks":{"tap":[{"id":"11460"}]}},"id":"11463","type":"Column"},{"attributes":{},"id":"5444","type":"Selection"},{"attributes":{"args":{"slider":{"id":"3816"},"source":{"id":"3777"}},"code":"\n\n    function rnormal() {\n            var u = 0, v = 0;\n            while(u === 0) u = Math.random(); \n            while(v === 0) v = Math.random();\n            return Math.sqrt( -2.0 * Math.log( u ) ) * Math.cos( 2.0 * Math.PI * v );\n        }\n\n    function sum(nums) {\n      var accumulator = 0;\n      for (var i = 0, l = nums.length; i &lt; l; i++)\n        accumulator += nums[i];\n      return accumulator;\n    }\n\n    function rbeta(alpha, beta) {\n      var alpha_gamma = rgamma(alpha, 1);\n      return alpha_gamma / (alpha_gamma + rgamma(beta, 1));\n    }\n\n    var SG_MAGICCONST = 1 + Math.log(4.5);\n    var LOG4 = Math.log(4.0);\n\n    function rgamma(alpha, beta) {\n      if (alpha &gt; 1) {\n        var ainv = Math.sqrt(2.0 * alpha - 1.0);\n        var bbb = alpha - LOG4;\n        var ccc = alpha + ainv;\n\n        while (true) {\n          var u1 = Math.random();\n          if (!((1e-7 &lt; u1) &amp;&amp; (u1 &lt; 0.9999999))) {\n            continue;\n          }\n          var u2 = 1.0 - Math.random();\n          var v = Math.log(u1/(1.0-u1))/ainv;\n          var x = alpha*Math.exp(v);\n          var z = u1*u1*u2;\n          var r = bbb+ccc*v-x;\n          if (r + SG_MAGICCONST - 4.5*z &gt;= 0.0 || r &gt;= Math.log(z)) {\n            return x * beta;\n          }\n        }\n      }\n      else if (alpha == 1.0) {\n        var u = Math.random();\n        while (u &lt;= 1e-7) {\n          u = Math.random();\n        }\n        return -Math.log(u) * beta;\n      }\n      else { \n        while (true) {\n          var u3 = Math.random();\n          var b = (Math.E + alpha)/Math.E;\n          var p = b*u3;\n          if (p &lt;= 1.0) {\n            var x = Math.pow(p, (1.0/alpha));\n          }\n          else {\n            var x = -Math.log((b-p)/alpha);\n          }\n          var u4 = Math.random();\n          if (p &gt; 1.0) {\n            if (u4 &lt;= Math.pow(x, (alpha - 1.0))) {\n              break;\n            }\n          }\n          else if (u4 &lt;= Math.exp(-x)) {\n            break;\n          }\n        }\n        return x * beta;\n      }\n    }\n    \n    function rdirichlet(alpha) {\n      var gammas = [];\n      for (var i = 0, l = alpha.length; i &lt; l; i++)\n        gammas.push(rgamma(alpha[i], 1));\n        \n      var accum = sum(gammas)\n      \n      for (var i = 0, l = gammas.length; i &lt; l; i++)\n        gammas[i] = gammas[i]/accum\n      return gammas\n    }\n    \n    function rcategorical(pi){\n      var u = Math.random();\n      var k = 0\n      var cum = pi[0]\n      for (var i = 1, l = pi.length; i &lt; l; i++)\n        if (u &lt;= cum){\n            break;\n        }\n        else{\n            cum = cum + pi[i]\n            k = k+1\n        }\n      return k\n    }\n      \n    \n    const data = source.data;\n    var x = data['x']\n    var y = data['y']\n    var zs = data['z']\n\n    var alpha = slider.value\n    \n\n    var vs = [rbeta(1,alpha)]\n    var pi = vs.concat([1-vs[0]])\n    var means_x = [rnormal()]\n    var means_y = [rnormal()]\n    var seen_cluster = [0]\n    var i = 0\n    var z = 0\n    var new_prob = 1\n    var old_slider_val = slider.value\n\n    function update() {\n        \n        \n        if ((old_slider_val != slider.value) &amp;&amp;  (x.length &gt; 0))  {\n            alpha = slider.value\n            vs = [rbeta(1,alpha)]\n            pi = vs.concat([1-vs[0]])\n            means_x = [rnormal()]\n            means_y = [rnormal()]\n            seen_cluster = [0]\n            i = 0\n            z = 0\n        \n            data[\"x\"] = []\n            data[\"y\"] = []\n            data[\"z\"] = []\n            x = []\n            y = []\n            z = []\n            cb_obj.active = false\n            source.change.emit();\n            old_slider_val = slider.value \n            return;\n        }\n\n        if (!(cb_obj.active)){\n            return;\n        }\n\n\n        \n        \n        i = i + 1;\n        z = rcategorical(pi);\n        \n       \n        if (seen_cluster.includes(z)){\n\n            x.push(means_x[z] + rnormal()*0.1);\n            y.push(means_y[z] + rnormal()*0.1);\n            zs.push(seen_cluster.indexOf(z))\n        }\n        else{\n            vs.push(rbeta(1,alpha))\n            new_prob = 1\n            for (let i = 0; i &lt; vs.length-1; i++) {\n                new_prob = new_prob*(1-vs[i])\n            }\n            new_prob = new_prob*vs[vs.length-1]\n            pi[pi.length-1] = new_prob\n            pi = pi.concat([1-sum(pi)])\n        \n            seen_cluster.push(z)\n            means_x.push(rnormal())\n            means_y.push(rnormal())\n\n            x.push(means_x[z] + rnormal()*0.1);\n            y.push(means_y[z] + rnormal()*0.1);\n            zs.push(seen_cluster.indexOf(z))\n        }  \n        source.change.emit();\n    }\n    \n    if ((x.length == 0)){\n        var looop = setInterval(update, 10);\n    }\n\n    if(cb_obj.active == false){\n        cb_obj.label = '\u25ba Play';\n    }\n    else {\n        cb_obj.label = '\u275a\u275a Pause';\n\n    }\n    \n"},"id":"3817","type":"CustomJS"},{"attributes":{"args":{"slider":{"id":"2700"},"source":{"id":"2661"}},"code":"\n\n    function rnormal() {\n            var u = 0, v = 0;\n            while(u === 0) u = Math.random(); \n            while(v === 0) v = Math.random();\n            return Math.sqrt( -2.0 * Math.log( u ) ) * Math.cos( 2.0 * Math.PI * v );\n        }\n\n    function sum(nums) {\n      var accumulator = 0;\n      for (var i = 0, l = nums.length; i &lt; l; i++)\n        accumulator += nums[i];\n      return accumulator;\n    }\n\n    function rbeta(alpha, beta) {\n      var alpha_gamma = rgamma(alpha, 1);\n      return alpha_gamma / (alpha_gamma + rgamma(beta, 1));\n    }\n\n    var SG_MAGICCONST = 1 + Math.log(4.5);\n    var LOG4 = Math.log(4.0);\n\n    function rgamma(alpha, beta) {\n      if (alpha &gt; 1) {\n        var ainv = Math.sqrt(2.0 * alpha - 1.0);\n        var bbb = alpha - LOG4;\n        var ccc = alpha + ainv;\n\n        while (true) {\n          var u1 = Math.random();\n          if (!((1e-7 &lt; u1) &amp;&amp; (u1 &lt; 0.9999999))) {\n            continue;\n          }\n          var u2 = 1.0 - Math.random();\n          var v = Math.log(u1/(1.0-u1))/ainv;\n          var x = alpha*Math.exp(v);\n          var z = u1*u1*u2;\n          var r = bbb+ccc*v-x;\n          if (r + SG_MAGICCONST - 4.5*z &gt;= 0.0 || r &gt;= Math.log(z)) {\n            return x * beta;\n          }\n        }\n      }\n      else if (alpha == 1.0) {\n        var u = Math.random();\n        while (u &lt;= 1e-7) {\n          u = Math.random();\n        }\n        return -Math.log(u) * beta;\n      }\n      else { \n        while (true) {\n          var u3 = Math.random();\n          var b = (Math.E + alpha)/Math.E;\n          var p = b*u3;\n          if (p &lt;= 1.0) {\n            var x = Math.pow(p, (1.0/alpha));\n          }\n          else {\n            var x = -Math.log((b-p)/alpha);\n          }\n          var u4 = Math.random();\n          if (p &gt; 1.0) {\n            if (u4 &lt;= Math.pow(x, (alpha - 1.0))) {\n              break;\n            }\n          }\n          else if (u4 &lt;= Math.exp(-x)) {\n            break;\n          }\n        }\n        return x * beta;\n      }\n    }\n    \n    function rdirichlet(alpha) {\n      var gammas = [];\n      for (var i = 0, l = alpha.length; i &lt; l; i++)\n        gammas.push(rgamma(alpha[i], 1));\n        \n      var accum = sum(gammas)\n      \n      for (var i = 0, l = gammas.length; i &lt; l; i++)\n        gammas[i] = gammas[i]/accum\n      return gammas\n    }\n    \n    function rcategorical(pi){\n      var u = Math.random();\n      var k = 0\n      var cum = pi[0]\n      for (var i = 1, l = pi.length; i &lt; l; i++)\n        if (u &lt;= cum){\n            break;\n        }\n        else{\n            cum = cum + pi[i]\n            k = k+1\n        }\n      return k\n    }\n      \n    \n    const data = source.data;\n    var x = data['x']\n    var y = data['y']\n    var zs = data['z']\n\n    var alpha = slider.value\n    \n\n    var vs = [rbeta(1,alpha)]\n    var pi = vs.concat([1-vs[0]])\n    var means_x = [rnormal()]\n    var means_y = [rnormal()]\n    var seen_cluster = [0]\n    var i = 0\n    var z = 0\n    var new_prob = 1\n    var old_slider_val = slider.value\n\n    function update() {\n        \n        \n        if ((old_slider_val != slider.value) &amp;&amp;  (x.length &gt; 0))  {\n            alpha = slider.value\n            vs = [rbeta(1,alpha)]\n            pi = vs.concat([1-vs[0]])\n            means_x = [rnormal()]\n            means_y = [rnormal()]\n            seen_cluster = [0]\n            i = 0\n            z = 0\n        \n            data[\"x\"] = []\n            data[\"y\"] = []\n            data[\"z\"] = []\n            x = []\n            y = []\n            z = []\n            cb_obj.active = false\n            source.change.emit();\n            old_slider_val = slider.value \n            return;\n        }\n\n        if (!(cb_obj.active)){\n            return;\n        }\n\n\n        \n        \n        i = i + 1;\n        z = rcategorical(pi);\n        \n       \n        if (seen_cluster.includes(z)){\n\n            x.push(means_x[z] + rnormal()*0.1);\n            y.push(means_y[z] + rnormal()*0.1);\n            zs.push(seen_cluster.indexOf(z))\n        }\n        else{\n            vs.push(rbeta(1,alpha))\n            new_prob = 1\n            for (let i = 0; i &lt; vs.length-1; i++) {\n                new_prob = new_prob*(1-vs[i])\n            }\n            new_prob = new_prob*vs[vs.length-1]\n            pi[pi.length-1] = new_prob\n            pi = pi.concat([1-sum(pi)])\n        \n            seen_cluster.push(z)\n            means_x.push(rnormal())\n            means_y.push(rnormal())\n\n            x.push(means_x[z] + rnormal()*0.1);\n            y.push(means_y[z] + rnormal()*0.1);\n            zs.push(seen_cluster.indexOf(z))\n        }  \n        source.change.emit();\n    }\n    \n    if ((x.length == 0)){\n        var looop = setInterval(update, 10);\n    }\n\n    if(cb_obj.active == false){\n        cb_obj.label = '\u25ba Play';\n    }\n    else {\n        cb_obj.label = '\u275a\u275a Pause';\n\n    }\n    \n"},"id":"2701","type":"CustomJS"},{"attributes":{"data":{"data":[],"x":[],"y":[],"z":[]},"selected":{"id":"4663"},"selection_policy":{"id":"4662"}},"id":"4427","type":"ColumnDataSource"},{"attributes":{},"id":"11871","type":"Selection"},{"attributes":{"args":{"slider":{"id":"10217"},"source":{"id":"10171"}},"code":"\n\n    function rnormal() {\n            var u = 0, v = 0;\n            while(u === 0) u = Math.random(); \n            while(v === 0) v = Math.random();\n            return Math.sqrt( -2.0 * Math.log( u ) ) * Math.cos( 2.0 * Math.PI * v );\n        }\n\n    function sum(nums) {\n      var accumulator = 0;\n      for (var i = 0, l = nums.length; i &lt; l; i++)\n        accumulator += nums[i];\n      return accumulator;\n    }\n\n    function rbeta(alpha, beta) {\n      var alpha_gamma = rgamma(alpha, 1);\n      return alpha_gamma / (alpha_gamma + rgamma(beta, 1));\n    }\n\n    var SG_MAGICCONST = 1 + Math.log(4.5);\n    var LOG4 = Math.log(4.0);\n\n    function rgamma(alpha, beta) {\n      if (alpha &gt; 1) {\n        var ainv = Math.sqrt(2.0 * alpha - 1.0);\n        var bbb = alpha - LOG4;\n        var ccc = alpha + ainv;\n\n        while (true) {\n          var u1 = Math.random();\n          if (!((1e-7 &lt; u1) &amp;&amp; (u1 &lt; 0.9999999))) {\n            continue;\n          }\n          var u2 = 1.0 - Math.random();\n          var v = Math.log(u1/(1.0-u1))/ainv;\n          var x = alpha*Math.exp(v);\n          var z = u1*u1*u2;\n          var r = bbb+ccc*v-x;\n          if (r + SG_MAGICCONST - 4.5*z &gt;= 0.0 || r &gt;= Math.log(z)) {\n            return x * beta;\n          }\n        }\n      }\n      else if (alpha == 1.0) {\n        var u = Math.random();\n        while (u &lt;= 1e-7) {\n          u = Math.random();\n        }\n        return -Math.log(u) * beta;\n      }\n      else { \n        while (true) {\n          var u3 = Math.random();\n          var b = (Math.E + alpha)/Math.E;\n          var p = b*u3;\n          if (p &lt;= 1.0) {\n            var x = Math.pow(p, (1.0/alpha));\n          }\n          else {\n            var x = -Math.log((b-p)/alpha);\n          }\n          var u4 = Math.random();\n          if (p &gt; 1.0) {\n            if (u4 &lt;= Math.pow(x, (alpha - 1.0))) {\n              break;\n            }\n          }\n          else if (u4 &lt;= Math.exp(-x)) {\n            break;\n          }\n        }\n        return x * beta;\n      }\n    }\n    \n    function rdirichlet(alpha) {\n      var gammas = [];\n      for (var i = 0, l = alpha.length; i &lt; l; i++)\n        gammas.push(rgamma(alpha[i], 1));\n        \n      var accum = sum(gammas)\n      \n      for (var i = 0, l = gammas.length; i &lt; l; i++)\n        gammas[i] = gammas[i]/accum\n      return gammas\n    }\n    \n    function rcategorical(pi){\n      var u = Math.random();\n      var k = 0\n      var cum = pi[0]\n      for (var i = 1, l = pi.length; i &lt; l; i++)\n        if (u &lt;= cum){\n            break;\n        }\n        else{\n            cum = cum + pi[i]\n            k = k+1\n        }\n      return k\n    }\n      \n    \n    const data = source.data;\n    var x = data['x']\n    var y = data['y']\n    var zs = data['z']\n\n    var alpha = slider.value\n    \n\n    var vs = [rbeta(1,alpha)]\n    var pi = vs.concat([1-vs[0]])\n    var means_x = [rnormal()]\n    var means_y = [rnormal()]\n    var seen_cluster = [0]\n    var i = 0\n    var z = 0\n    var new_prob = 1\n    var old_slider_val = slider.value\n\n    function update() {\n        \n        \n        if ((old_slider_val != slider.value) &amp;&amp;  (x.length &gt; 0))  {\n            alpha = slider.value\n            vs = [rbeta(1,alpha)]\n            pi = vs.concat([1-vs[0]])\n            means_x = [rnormal()]\n            means_y = [rnormal()]\n            seen_cluster = [0]\n            i = 0\n            z = 0\n        \n            data[\"x\"] = []\n            data[\"y\"] = []\n            data[\"z\"] = []\n            x = []\n            y = []\n            z = []\n            cb_obj.active = false\n            source.change.emit();\n            old_slider_val = slider.value \n            return;\n        }\n\n        if (!(cb_obj.active)){\n            return;\n        }\n\n\n        \n        \n        i = i + 1;\n        z = rcategorical(pi);\n        \n       \n        if (seen_cluster.includes(z)){\n\n            x.push(means_x[z] + rnormal()*0.1);\n            y.push(means_y[z] + rnormal()*0.1);\n            zs.push(seen_cluster.indexOf(z))\n        }\n        else{\n            vs.push(rbeta(1,alpha))\n            new_prob = 1\n            for (let i = 0; i &lt; vs.length-1; i++) {\n                new_prob = new_prob*(1-vs[i])\n            }\n            new_prob = new_prob*vs[vs.length-1]\n            pi[pi.length-1] = new_prob\n            pi = pi.concat([1-sum(pi)])\n        \n            seen_cluster.push(z)\n            means_x.push(rnormal())\n            means_y.push(rnormal())\n\n            x.push(means_x[z] + rnormal()*0.1);\n            y.push(means_y[z] + rnormal()*0.1);\n            zs.push(seen_cluster.indexOf(z))\n        }  \n        source.change.emit();\n    }\n    \n    if ((x.length == 0)){\n        var looop = setInterval(update, 10);\n    }\n\n    if(cb_obj.active == false){\n        cb_obj.label = '\u25ba Play';\n    }\n    else {\n        cb_obj.label = '\u275a\u275a Pause';\n\n    }\n    \n"},"id":"10218","type":"CustomJS"},{"attributes":{"data":{"observed":[],"x":[],"y":[],"z":[]},"selected":{"id":"6297"},"selection_policy":{"id":"6296"}},"id":"6044","type":"ColumnDataSource"},{"attributes":{},"id":"5443","type":"UnionRenderers"},{"attributes":{},"id":"11870","type":"UnionRenderers"},{"attributes":{"data":{"x":[],"y":[],"z":[]},"selected":{"id":"3941"},"selection_policy":{"id":"3940"}},"id":"3777","type":"ColumnDataSource"},{"attributes":{"args":{"slider":{"id":"4466"},"source":{"id":"4427"}},"code":"\n\n    function rnormal() {\n            var u = 0, v = 0;\n            while(u === 0) u = Math.random(); \n            while(v === 0) v = Math.random();\n            return Math.sqrt( -2.0 * Math.log( u ) ) * Math.cos( 2.0 * Math.PI * v );\n        }\n\n    function sum(nums) {\n      var accumulator = 0;\n      for (var i = 0, l = nums.length; i &lt; l; i++)\n        accumulator += nums[i];\n      return accumulator;\n    }\n\n    function rbeta(alpha, beta) {\n      var alpha_gamma = rgamma(alpha, 1);\n      return alpha_gamma / (alpha_gamma + rgamma(beta, 1));\n    }\n\n    var SG_MAGICCONST = 1 + Math.log(4.5);\n    var LOG4 = Math.log(4.0);\n\n    function rgamma(alpha, beta) {\n      if (alpha &gt; 1) {\n        var ainv = Math.sqrt(2.0 * alpha - 1.0);\n        var bbb = alpha - LOG4;\n        var ccc = alpha + ainv;\n\n        while (true) {\n          var u1 = Math.random();\n          if (!((1e-7 &lt; u1) &amp;&amp; (u1 &lt; 0.9999999))) {\n            continue;\n          }\n          var u2 = 1.0 - Math.random();\n          var v = Math.log(u1/(1.0-u1))/ainv;\n          var x = alpha*Math.exp(v);\n          var z = u1*u1*u2;\n          var r = bbb+ccc*v-x;\n          if (r + SG_MAGICCONST - 4.5*z &gt;= 0.0 || r &gt;= Math.log(z)) {\n            return x * beta;\n          }\n        }\n      }\n      else if (alpha == 1.0) {\n        var u = Math.random();\n        while (u &lt;= 1e-7) {\n          u = Math.random();\n        }\n        return -Math.log(u) * beta;\n      }\n      else { \n        while (true) {\n          var u3 = Math.random();\n          var b = (Math.E + alpha)/Math.E;\n          var p = b*u3;\n          if (p &lt;= 1.0) {\n            var x = Math.pow(p, (1.0/alpha));\n          }\n          else {\n            var x = -Math.log((b-p)/alpha);\n          }\n          var u4 = Math.random();\n          if (p &gt; 1.0) {\n            if (u4 &lt;= Math.pow(x, (alpha - 1.0))) {\n              break;\n            }\n          }\n          else if (u4 &lt;= Math.exp(-x)) {\n            break;\n          }\n        }\n        return x * beta;\n      }\n    }\n    \n    function rdirichlet(alpha) {\n      var gammas = [];\n      for (var i = 0, l = alpha.length; i &lt; l; i++)\n        gammas.push(rgamma(alpha[i], 1));\n        \n      var accum = sum(gammas)\n      \n      for (var i = 0, l = gammas.length; i &lt; l; i++)\n        gammas[i] = gammas[i]/accum\n      return gammas\n    }\n    \n    function rcategorical(pi){\n      var u = Math.random();\n      var k = 0\n      var cum = pi[0]\n      for (var i = 1, l = pi.length; i &lt; l; i++)\n        if (u &lt;= cum){\n            break;\n        }\n        else{\n            cum = cum + pi[i]\n            k = k+1\n        }\n      return k\n    }\n      \n    \n    const data = source.data;\n    var x = data['x']\n    var y = data['y']\n    var zs = data['z']\n\n    var alpha = slider.value\n    \n\n    var vs = [rbeta(1,alpha)]\n    var pi = vs.concat([1-vs[0]])\n    var means_x = [rnormal()]\n    var means_y = [rnormal()]\n    var seen_cluster = [0]\n    var i = 0\n    var z = 0\n    var new_prob = 1\n    var old_slider_val = slider.value\n\n    function update() {\n        \n        \n        if ((old_slider_val != slider.value) &amp;&amp;  (x.length &gt; 0))  {\n            alpha = slider.value\n            vs = [rbeta(1,alpha)]\n            pi = vs.concat([1-vs[0]])\n            means_x = [rnormal()]\n            means_y = [rnormal()]\n            seen_cluster = [0]\n            i = 0\n            z = 0\n        \n            data[\"x\"] = []\n            data[\"y\"] = []\n            data[\"z\"] = []\n            x = []\n            y = []\n            z = []\n            cb_obj.active = false\n            source.change.emit();\n            old_slider_val = slider.value \n            return;\n        }\n\n        if (!(cb_obj.active)){\n            return;\n        }\n\n\n        \n        \n        i = i + 1;\n        z = rcategorical(pi);\n        \n       \n        if (seen_cluster.includes(z)){\n\n            x.push(means_x[z] + rnormal()*0.1);\n            y.push(means_y[z] + rnormal()*0.1);\n            zs.push(seen_cluster.indexOf(z))\n        }\n        else{\n            vs.push(rbeta(1,alpha))\n            new_prob = 1\n            for (let i = 0; i &lt; vs.length-1; i++) {\n                new_prob = new_prob*(1-vs[i])\n            }\n            new_prob = new_prob*vs[vs.length-1]\n            pi[pi.length-1] = new_prob\n            pi = pi.concat([1-sum(pi)])\n        \n            seen_cluster.push(z)\n            means_x.push(rnormal())\n            means_y.push(rnormal())\n\n            x.push(means_x[z] + rnormal()*0.1);\n            y.push(means_y[z] + rnormal()*0.1);\n            zs.push(seen_cluster.indexOf(z))\n        }  \n        source.change.emit();\n    }\n    \n    if ((x.length == 0)){\n        var looop = setInterval(update, 10);\n    }\n\n    if(cb_obj.active == false){\n        cb_obj.label = '\u25ba Play';\n    }\n    else {\n        cb_obj.label = '\u275a\u275a Pause';\n\n    }\n    \n"},"id":"4467","type":"CustomJS"},{"attributes":{},"id":"8262","type":"UnionRenderers"},{"attributes":{"args":{"slider":{"id":"6083"},"source":{"id":"6044"}},"code":"\n\n    function rnormal() {\n            var u = 0, v = 0;\n            while(u === 0) u = Math.random(); \n            while(v === 0) v = Math.random();\n            return Math.sqrt( -2.0 * Math.log( u ) ) * Math.cos( 2.0 * Math.PI * v );\n        }\n\n    function sum(nums) {\n      var accumulator = 0;\n      for (var i = 0, l = nums.length; i &lt; l; i++)\n        accumulator += nums[i];\n      return accumulator;\n    }\n\n    function rbeta(alpha, beta) {\n      var alpha_gamma = rgamma(alpha, 1);\n      return alpha_gamma / (alpha_gamma + rgamma(beta, 1));\n    }\n\n    var SG_MAGICCONST = 1 + Math.log(4.5);\n    var LOG4 = Math.log(4.0);\n\n    function rgamma(alpha, beta) {\n      if (alpha &gt; 1) {\n        var ainv = Math.sqrt(2.0 * alpha - 1.0);\n        var bbb = alpha - LOG4;\n        var ccc = alpha + ainv;\n\n        while (true) {\n          var u1 = Math.random();\n          if (!((1e-7 &lt; u1) &amp;&amp; (u1 &lt; 0.9999999))) {\n            continue;\n          }\n          var u2 = 1.0 - Math.random();\n          var v = Math.log(u1/(1.0-u1))/ainv;\n          var x = alpha*Math.exp(v);\n          var z = u1*u1*u2;\n          var r = bbb+ccc*v-x;\n          if (r + SG_MAGICCONST - 4.5*z &gt;= 0.0 || r &gt;= Math.log(z)) {\n            return x * beta;\n          }\n        }\n      }\n      else if (alpha == 1.0) {\n        var u = Math.random();\n        while (u &lt;= 1e-7) {\n          u = Math.random();\n        }\n        return -Math.log(u) * beta;\n      }\n      else { \n        while (true) {\n          var u3 = Math.random();\n          var b = (Math.E + alpha)/Math.E;\n          var p = b*u3;\n          if (p &lt;= 1.0) {\n            var x = Math.pow(p, (1.0/alpha));\n          }\n          else {\n            var x = -Math.log((b-p)/alpha);\n          }\n          var u4 = Math.random();\n          if (p &gt; 1.0) {\n            if (u4 &lt;= Math.pow(x, (alpha - 1.0))) {\n              break;\n            }\n          }\n          else if (u4 &lt;= Math.exp(-x)) {\n            break;\n          }\n        }\n        return x * beta;\n      }\n    }\n    \n    function rdirichlet(alpha) {\n      var gammas = [];\n      for (var i = 0, l = alpha.length; i &lt; l; i++)\n        gammas.push(rgamma(alpha[i], 1));\n        \n      var accum = sum(gammas)\n      \n      for (var i = 0, l = gammas.length; i &lt; l; i++)\n        gammas[i] = gammas[i]/accum\n      return gammas\n    }\n    \n    function rcategorical(pi){\n      var u = Math.random();\n      var k = 0\n      var cum = pi[0]\n      for (var i = 1, l = pi.length; i &lt; l; i++)\n        if (u &lt;= cum){\n            break;\n        }\n        else{\n            cum = cum + pi[i]\n            k = k+1\n        }\n      return k\n    }\n      \n    \n    const data = source.data;\n    var x = data['x']\n    var y = data['y']\n    var zs = data['z']\n\n    var alpha = slider.value\n    \n\n    var vs = [rbeta(1,alpha)]\n    var pi = vs.concat([1-vs[0]])\n    var means_x = [rnormal()]\n    var means_y = [rnormal()]\n    var seen_cluster = [0]\n    var i = 0\n    var z = 0\n    var new_prob = 1\n    var old_slider_val = slider.value\n\n    function update() {\n        \n        \n        if ((old_slider_val != slider.value) &amp;&amp;  (x.length &gt; 0))  {\n            alpha = slider.value\n            vs = [rbeta(1,alpha)]\n            pi = vs.concat([1-vs[0]])\n            means_x = [rnormal()]\n            means_y = [rnormal()]\n            seen_cluster = [0]\n            i = 0\n            z = 0\n        \n            data[\"x\"] = []\n            data[\"y\"] = []\n            data[\"z\"] = []\n            x = []\n            y = []\n            z = []\n            cb_obj.active = false\n            source.change.emit();\n            old_slider_val = slider.value \n            return;\n        }\n\n        if (!(cb_obj.active)){\n            return;\n        }\n\n\n        \n        \n        i = i + 1;\n        z = rcategorical(pi);\n        \n       \n        if (seen_cluster.includes(z)){\n\n            x.push(means_x[z] + rnormal()*0.1);\n            y.push(means_y[z] + rnormal()*0.1);\n            zs.push(seen_cluster.indexOf(z))\n        }\n        else{\n            vs.push(rbeta(1,alpha))\n            new_prob = 1\n            for (let i = 0; i &lt; vs.length-1; i++) {\n                new_prob = new_prob*(1-vs[i])\n            }\n            new_prob = new_prob*vs[vs.length-1]\n            pi[pi.length-1] = new_prob\n            pi = pi.concat([1-sum(pi)])\n        \n            seen_cluster.push(z)\n            means_x.push(rnormal())\n            means_y.push(rnormal())\n\n            x.push(means_x[z] + rnormal()*0.1);\n            y.push(means_y[z] + rnormal()*0.1);\n            zs.push(seen_cluster.indexOf(z))\n        }  \n        source.change.emit();\n    }\n    \n    if ((x.length == 0)){\n        var looop = setInterval(update, 10);\n    }\n\n    if(cb_obj.active == false){\n        cb_obj.label = '\u25ba Play';\n    }\n    else {\n        cb_obj.label = '\u275a\u275a Pause';\n\n    }\n    \n"},"id":"6084","type":"CustomJS"},{"attributes":{"end":100,"js_property_callbacks":{"change:value":[{"id":"5263"}]},"start":0.01,"step":0.01,"title":"alpha","value":50},"id":"6083","type":"Slider"},{"attributes":{"end":100,"js_property_callbacks":{"change:value":[{"id":"3229"}]},"start":0.01,"step":0.01,"title":"alpha","value":50},"id":"3816","type":"Slider"},{"attributes":{"data":{"x":[],"y":[],"z":[]},"selected":{"id":"7223"},"selection_policy":{"id":"7222"}},"id":"6935","type":"ColumnDataSource"},{"attributes":{},"id":"11866","type":"AllLabels"},{"attributes":{"end":100,"js_property_callbacks":{"change:value":[{"id":"6084"}]},"start":0.01,"step":0.01,"title":"alpha","value":50},"id":"6975","type":"Slider"},{"attributes":{},"id":"8263","type":"Selection"},{"attributes":{},"id":"11868","type":"BasicTickFormatter"},{"attributes":{},"id":"11869","type":"AllLabels"},{"attributes":{"data":{"x":[],"y":[],"z":[]},"selected":{"id":"3329"},"selection_policy":{"id":"3328"}},"id":"3189","type":"ColumnDataSource"},{"attributes":{"data":{"x":[],"y":[],"z":[]},"selected":{"id":"11871"},"selection_policy":{"id":"11870"}},"id":"11413","type":"ColumnDataSource"},{"attributes":{},"id":"11420","type":"LinearScale"},{"attributes":{"data":{"o_x":[],"o_y":[]},"selected":{"id":"11875"},"selection_policy":{"id":"11874"}},"id":"11414","type":"ColumnDataSource"},{"attributes":{"end":5,"start":-5},"id":"11416","type":"DataRange1d"},{"attributes":{"below":[{"id":"11424"}],"center":[{"id":"11427"},{"id":"11431"}],"height":500,"js_event_callbacks":{"tap":[{"id":"11461"}]},"left":[{"id":"11428"}],"renderers":[{"id":"11451"},{"id":"11457"}],"title":{"id":"11862"},"toolbar":{"id":"11439"},"width":800,"x_range":{"id":"11416"},"x_scale":{"id":"11420"},"y_range":{"id":"11418"},"y_scale":{"id":"11422"}},"id":"11415","subtype":"Figure","type":"Plot"},{"attributes":{"fill_color":{"value":"red"},"hatch_color":{"value":"red"},"line_color":{"value":"red"},"x":{"field":"o_x"},"y":{"field":"o_y"}},"id":"11454","type":"Scatter"},{"attributes":{"args":{"slider":{"id":"4509"},"source":{"id":"4470"}},"code":"\n\n    function rnormal() {\n            var u = 0, v = 0;\n            while(u === 0) u = Math.random(); \n            while(v === 0) v = Math.random();\n            return Math.sqrt( -2.0 * Math.log( u ) ) * Math.cos( 2.0 * Math.PI * v );\n        }\n\n    function sum(nums) {\n      var accumulator = 0;\n      for (var i = 0, l = nums.length; i &lt; l; i++)\n        accumulator += nums[i];\n      return accumulator;\n    }\n\n    function rbeta(alpha, beta) {\n      var alpha_gamma = rgamma(alpha, 1);\n      return alpha_gamma / (alpha_gamma + rgamma(beta, 1));\n    }\n\n    var SG_MAGICCONST = 1 + Math.log(4.5);\n    var LOG4 = Math.log(4.0);\n\n    function rgamma(alpha, beta) {\n      if (alpha &gt; 1) {\n        var ainv = Math.sqrt(2.0 * alpha - 1.0);\n        var bbb = alpha - LOG4;\n        var ccc = alpha + ainv;\n\n        while (true) {\n          var u1 = Math.random();\n          if (!((1e-7 &lt; u1) &amp;&amp; (u1 &lt; 0.9999999))) {\n            continue;\n          }\n          var u2 = 1.0 - Math.random();\n          var v = Math.log(u1/(1.0-u1))/ainv;\n          var x = alpha*Math.exp(v);\n          var z = u1*u1*u2;\n          var r = bbb+ccc*v-x;\n          if (r + SG_MAGICCONST - 4.5*z &gt;= 0.0 || r &gt;= Math.log(z)) {\n            return x * beta;\n          }\n        }\n      }\n      else if (alpha == 1.0) {\n        var u = Math.random();\n        while (u &lt;= 1e-7) {\n          u = Math.random();\n        }\n        return -Math.log(u) * beta;\n      }\n      else { \n        while (true) {\n          var u3 = Math.random();\n          var b = (Math.E + alpha)/Math.E;\n          var p = b*u3;\n          if (p &lt;= 1.0) {\n            var x = Math.pow(p, (1.0/alpha));\n          }\n          else {\n            var x = -Math.log((b-p)/alpha);\n          }\n          var u4 = Math.random();\n          if (p &gt; 1.0) {\n            if (u4 &lt;= Math.pow(x, (alpha - 1.0))) {\n              break;\n            }\n          }\n          else if (u4 &lt;= Math.exp(-x)) {\n            break;\n          }\n        }\n        return x * beta;\n      }\n    }\n    \n    function rdirichlet(alpha) {\n      var gammas = [];\n      for (var i = 0, l = alpha.length; i &lt; l; i++)\n        gammas.push(rgamma(alpha[i], 1));\n        \n      var accum = sum(gammas)\n      \n      for (var i = 0, l = gammas.length; i &lt; l; i++)\n        gammas[i] = gammas[i]/accum\n      return gammas\n    }\n    \n    function rcategorical(pi){\n      var u = Math.random();\n      var k = 0\n      var cum = pi[0]\n      for (var i = 1, l = pi.length; i &lt; l; i++)\n        if (u &lt;= cum){\n            break;\n        }\n        else{\n            cum = cum + pi[i]\n            k = k+1\n        }\n      return k\n    }\n      \n    \n    const data = source.data;\n    var x = data['x']\n    var y = data['y']\n    var zs = data['z']\n\n    var alpha = slider.value\n    \n\n    var vs = [rbeta(1,alpha)]\n    var pi = vs.concat([1-vs[0]])\n    var means_x = [rnormal()]\n    var means_y = [rnormal()]\n    var seen_cluster = [0]\n    var i = 0\n    var z = 0\n    var new_prob = 1\n    var old_slider_val = slider.value\n\n    function update() {\n        \n        \n        if ((old_slider_val != slider.value) &amp;&amp;  (x.length &gt; 0))  {\n            alpha = slider.value\n            vs = [rbeta(1,alpha)]\n            pi = vs.concat([1-vs[0]])\n            means_x = [rnormal()]\n            means_y = [rnormal()]\n            seen_cluster = [0]\n            i = 0\n            z = 0\n        \n            data[\"x\"] = []\n            data[\"y\"] = []\n            data[\"z\"] = []\n            x = []\n            y = []\n            z = []\n            cb_obj.active = false\n            source.change.emit();\n            old_slider_val = slider.value \n            return;\n        }\n\n        if (!(cb_obj.active)){\n            return;\n        }\n\n\n        \n        \n        i = i + 1;\n        z = rcategorical(pi);\n        \n       \n        if (seen_cluster.includes(z)){\n\n            x.push(means_x[z] + rnormal()*0.1);\n            y.push(means_y[z] + rnormal()*0.1);\n            zs.push(seen_cluster.indexOf(z))\n        }\n        else{\n            vs.push(rbeta(1,alpha))\n            new_prob = 1\n            for (let i = 0; i &lt; vs.length-1; i++) {\n                new_prob = new_prob*(1-vs[i])\n            }\n            new_prob = new_prob*vs[vs.length-1]\n            pi[pi.length-1] = new_prob\n            pi = pi.concat([1-sum(pi)])\n        \n            seen_cluster.push(z)\n            means_x.push(rnormal())\n            means_y.push(rnormal())\n\n            x.push(means_x[z] + rnormal()*0.1);\n            y.push(means_y[z] + rnormal()*0.1);\n            zs.push(seen_cluster.indexOf(z))\n        }  \n        source.change.emit();\n    }\n    \n    if ((x.length == 0)){\n        var looop = setInterval(update, 10);\n    }\n\n    if(cb_obj.active == false){\n        cb_obj.label = '\u25ba Play';\n    }\n    else {\n        cb_obj.label = '\u275a\u275a Pause';\n\n    }\n    \n"},"id":"4510","type":"CustomJS"},{"attributes":{"args":{"source2":{"id":"11414"}},"code":"\n\n    function rnormal() {\n            var u = 0, v = 0;\n            while(u === 0) u = Math.random(); \n            while(v === 0) v = Math.random();\n            return Math.sqrt( -2.0 * Math.log( u ) ) * Math.cos( 2.0 * Math.PI * v );\n        }\n\n    function sum(nums) {\n      var accumulator = 0;\n      for (var i = 0, l = nums.length; i &lt; l; i++)\n        accumulator += nums[i];\n      return accumulator;\n    }\n\n    function rbeta(alpha, beta) {\n      var alpha_gamma = rgamma(alpha, 1);\n      return alpha_gamma / (alpha_gamma + rgamma(beta, 1));\n    }\n\n    var SG_MAGICCONST = 1 + Math.log(4.5);\n    var LOG4 = Math.log(4.0);\n\n    function rgamma(alpha, beta) {\n      if (alpha &gt; 1) {\n        var ainv = Math.sqrt(2.0 * alpha - 1.0);\n        var bbb = alpha - LOG4;\n        var ccc = alpha + ainv;\n\n        while (true) {\n          var u1 = Math.random();\n          if (!((1e-7 &lt; u1) &amp;&amp; (u1 &lt; 0.9999999))) {\n            continue;\n          }\n          var u2 = 1.0 - Math.random();\n          var v = Math.log(u1/(1.0-u1))/ainv;\n          var x = alpha*Math.exp(v);\n          var z = u1*u1*u2;\n          var r = bbb+ccc*v-x;\n          if (r + SG_MAGICCONST - 4.5*z &gt;= 0.0 || r &gt;= Math.log(z)) {\n            return x * beta;\n          }\n        }\n      }\n      else if (alpha == 1.0) {\n        var u = Math.random();\n        while (u &lt;= 1e-7) {\n          u = Math.random();\n        }\n        return -Math.log(u) * beta;\n      }\n      else { \n        while (true) {\n          var u3 = Math.random();\n          var b = (Math.E + alpha)/Math.E;\n          var p = b*u3;\n          if (p &lt;= 1.0) {\n            var x = Math.pow(p, (1.0/alpha));\n          }\n          else {\n            var x = -Math.log((b-p)/alpha);\n          }\n          var u4 = Math.random();\n          if (p &gt; 1.0) {\n            if (u4 &lt;= Math.pow(x, (alpha - 1.0))) {\n              break;\n            }\n          }\n          else if (u4 &lt;= Math.exp(-x)) {\n            break;\n          }\n        }\n        return x * beta;\n      }\n    }\n    \n    function rdirichlet(alpha) {\n      var gammas = [];\n      for (var i = 0, l = alpha.length; i &lt; l; i++)\n        gammas.push(rgamma(alpha[i], 1));\n        \n      var accum = sum(gammas)\n      \n      for (var i = 0, l = gammas.length; i &lt; l; i++)\n        gammas[i] = gammas[i]/accum\n      return gammas\n    }\n    \n    function rcategorical(pi){\n      var u = Math.random();\n      var k = 0\n      var cum = pi[0]\n      for (var i = 1, l = pi.length; i &lt; l; i++)\n        if (u &lt;= cum){\n            break;\n        }\n        else{\n            cum = cum + pi[i]\n            k = k+1\n        }\n      return k\n    }\n      \n    \n\n    const data = source2.data;\n\n    var x = cb_obj[\"x\"];\n    var y = cb_obj[\"y\"];\n\n    data[\"o_x\"].push(x)\n    data[\"o_y\"].push(y)\n\n    source2.change.emit();\n"},"id":"11461","type":"CustomJS"},{"attributes":{"coordinates":null,"formatter":{"id":"11865"},"group":null,"major_label_policy":{"id":"11866"},"ticker":{"id":"11429"}},"id":"11428","type":"LinearAxis"},{"attributes":{"data":{"x":[],"y":[],"z":[]},"selected":{"id":"10585"},"selection_policy":{"id":"10584"}},"id":"10171","type":"ColumnDataSource"},{"attributes":{"end":100,"js_property_callbacks":{"change:value":[{"id":"2701"}]},"start":0.01,"step":0.01,"title":"alpha","value":50},"id":"3228","type":"Slider"},{"attributes":{"coordinates":null,"formatter":{"id":"11868"},"group":null,"major_label_policy":{"id":"11869"},"ticker":{"id":"11425"}},"id":"11424","type":"LinearAxis"},{"attributes":{"fill_alpha":{"value":0.5},"fill_color":{"field":"z","transform":{"id":"11446"}},"hatch_alpha":{"value":0.5},"hatch_color":{"field":"z","transform":{"id":"11446"}},"line_alpha":{"value":0.5},"line_color":{"field":"z","transform":{"id":"11446"}},"x":{"field":"x"},"y":{"field":"y"}},"id":"11448","type":"Scatter"},{"attributes":{},"id":"11865","type":"BasicTickFormatter"},{"attributes":{"end":5,"start":-5},"id":"11418","type":"DataRange1d"},{"attributes":{"args":{"slider":{"id":"3228"},"source":{"id":"3189"}},"code":"\n\n    function rnormal() {\n            var u = 0, v = 0;\n            while(u === 0) u = Math.random(); \n            while(v === 0) v = Math.random();\n            return Math.sqrt( -2.0 * Math.log( u ) ) * Math.cos( 2.0 * Math.PI * v );\n        }\n\n    function sum(nums) {\n      var accumulator = 0;\n      for (var i = 0, l = nums.length; i &lt; l; i++)\n        accumulator += nums[i];\n      return accumulator;\n    }\n\n    function rbeta(alpha, beta) {\n      var alpha_gamma = rgamma(alpha, 1);\n      return alpha_gamma / (alpha_gamma + rgamma(beta, 1));\n    }\n\n    var SG_MAGICCONST = 1 + Math.log(4.5);\n    var LOG4 = Math.log(4.0);\n\n    function rgamma(alpha, beta) {\n      if (alpha &gt; 1) {\n        var ainv = Math.sqrt(2.0 * alpha - 1.0);\n        var bbb = alpha - LOG4;\n        var ccc = alpha + ainv;\n\n        while (true) {\n          var u1 = Math.random();\n          if (!((1e-7 &lt; u1) &amp;&amp; (u1 &lt; 0.9999999))) {\n            continue;\n          }\n          var u2 = 1.0 - Math.random();\n          var v = Math.log(u1/(1.0-u1))/ainv;\n          var x = alpha*Math.exp(v);\n          var z = u1*u1*u2;\n          var r = bbb+ccc*v-x;\n          if (r + SG_MAGICCONST - 4.5*z &gt;= 0.0 || r &gt;= Math.log(z)) {\n            return x * beta;\n          }\n        }\n      }\n      else if (alpha == 1.0) {\n        var u = Math.random();\n        while (u &lt;= 1e-7) {\n          u = Math.random();\n        }\n        return -Math.log(u) * beta;\n      }\n      else { \n        while (true) {\n          var u3 = Math.random();\n          var b = (Math.E + alpha)/Math.E;\n          var p = b*u3;\n          if (p &lt;= 1.0) {\n            var x = Math.pow(p, (1.0/alpha));\n          }\n          else {\n            var x = -Math.log((b-p)/alpha);\n          }\n          var u4 = Math.random();\n          if (p &gt; 1.0) {\n            if (u4 &lt;= Math.pow(x, (alpha - 1.0))) {\n              break;\n            }\n          }\n          else if (u4 &lt;= Math.exp(-x)) {\n            break;\n          }\n        }\n        return x * beta;\n      }\n    }\n    \n    function rdirichlet(alpha) {\n      var gammas = [];\n      for (var i = 0, l = alpha.length; i &lt; l; i++)\n        gammas.push(rgamma(alpha[i], 1));\n        \n      var accum = sum(gammas)\n      \n      for (var i = 0, l = gammas.length; i &lt; l; i++)\n        gammas[i] = gammas[i]/accum\n      return gammas\n    }\n    \n    function rcategorical(pi){\n      var u = Math.random();\n      var k = 0\n      var cum = pi[0]\n      for (var i = 1, l = pi.length; i &lt; l; i++)\n        if (u &lt;= cum){\n            break;\n        }\n        else{\n            cum = cum + pi[i]\n            k = k+1\n        }\n      return k\n    }\n      \n    \n    const data = source.data;\n    var x = data['x']\n    var y = data['y']\n    var zs = data['z']\n\n    var alpha = slider.value\n    \n\n    var vs = [rbeta(1,alpha)]\n    var pi = vs.concat([1-vs[0]])\n    var means_x = [rnormal()]\n    var means_y = [rnormal()]\n    var seen_cluster = [0]\n    var i = 0\n    var z = 0\n    var new_prob = 1\n    var old_slider_val = slider.value\n\n    function update() {\n        \n        \n        if ((old_slider_val != slider.value) &amp;&amp;  (x.length &gt; 0))  {\n            alpha = slider.value\n            vs = [rbeta(1,alpha)]\n            pi = vs.concat([1-vs[0]])\n            means_x = [rnormal()]\n            means_y = [rnormal()]\n            seen_cluster = [0]\n            i = 0\n            z = 0\n        \n            data[\"x\"] = []\n            data[\"y\"] = []\n            data[\"z\"] = []\n            x = []\n            y = []\n            z = []\n            cb_obj.active = false\n            source.change.emit();\n            old_slider_val = slider.value \n            return;\n        }\n\n        if (!(cb_obj.active)){\n            return;\n        }\n\n\n        \n        \n        i = i + 1;\n        z = rcategorical(pi);\n        \n       \n        if (seen_cluster.includes(z)){\n\n            x.push(means_x[z] + rnormal()*0.1);\n            y.push(means_y[z] + rnormal()*0.1);\n            zs.push(seen_cluster.indexOf(z))\n        }\n        else{\n            vs.push(rbeta(1,alpha))\n            new_prob = 1\n            for (let i = 0; i &lt; vs.length-1; i++) {\n                new_prob = new_prob*(1-vs[i])\n            }\n            new_prob = new_prob*vs[vs.length-1]\n            pi[pi.length-1] = new_prob\n            pi = pi.concat([1-sum(pi)])\n        \n            seen_cluster.push(z)\n            means_x.push(rnormal())\n            means_y.push(rnormal())\n\n            x.push(means_x[z] + rnormal()*0.1);\n            y.push(means_y[z] + rnormal()*0.1);\n            zs.push(seen_cluster.indexOf(z))\n        }  \n        source.change.emit();\n    }\n    \n    if ((x.length == 0)){\n        var looop = setInterval(update, 10);\n    }\n\n    if(cb_obj.active == false){\n        cb_obj.label = '\u25ba Play';\n    }\n    else {\n        cb_obj.label = '\u275a\u275a Pause';\n\n    }\n    \n"},"id":"3229","type":"CustomJS"},{"attributes":{},"id":"11422","type":"LinearScale"},{"attributes":{},"id":"11437","type":"HelpTool"},{"attributes":{},"id":"11425","type":"BasicTicker"},{"attributes":{},"id":"4662","type":"UnionRenderers"},{"attributes":{"axis":{"id":"11424"},"coordinates":null,"group":null,"ticker":null},"id":"11427","type":"Grid"},{"attributes":{"axis":{"id":"11428"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"11431","type":"Grid"},{"attributes":{"end":100,"js_property_callbacks":{"change:value":[{"id":"4510"}]},"start":0.01,"step":0.01,"title":"alpha","value":50},"id":"5262","type":"Slider"},{"attributes":{},"id":"4661","type":"Selection"},{"attributes":{},"id":"11429","type":"BasicTicker"},{"attributes":{"tools":[{"id":"11432"},{"id":"11433"},{"id":"11434"},{"id":"11435"},{"id":"11436"},{"id":"11437"}]},"id":"11439","type":"Toolbar"},{"attributes":{},"id":"11433","type":"WheelZoomTool"},{"attributes":{},"id":"11432","type":"PanTool"},{"attributes":{"overlay":{"id":"11438"}},"id":"11434","type":"BoxZoomTool"},{"attributes":{},"id":"11435","type":"SaveTool"},{"attributes":{},"id":"11436","type":"ResetTool"},{"attributes":{},"id":"4663","type":"Selection"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"11438","type":"BoxAnnotation"},{"attributes":{},"id":"7222","type":"UnionRenderers"},{"attributes":{},"id":"6297","type":"Selection"},{"attributes":{},"id":"7223","type":"Selection"},{"attributes":{},"id":"6296","type":"UnionRenderers"},{"attributes":{},"id":"4660","type":"UnionRenderers"},{"attributes":{"start":0},"id":"2358","type":"DataRange1d"},{"attributes":{"end":100,"js_property_callbacks":{"change:value":[{"id":"3817"}]},"start":0.01,"step":0.01,"title":"alpha","value":50},"id":"4466","type":"Slider"},{"attributes":{},"id":"3328","type":"UnionRenderers"},{"attributes":{"below":[{"id":"2364"}],"center":[{"id":"2367"},{"id":"2371"}],"height":500,"left":[{"id":"2368"}],"renderers":[{"id":"2390"}],"title":{"id":"2450"},"toolbar":{"id":"2379"},"width":800,"x_range":{"id":"2356"},"x_scale":{"id":"2360"},"y_range":{"id":"2358"},"y_scale":{"id":"2362"}},"id":"2355","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"2453","type":"BasicTickFormatter"},{"attributes":{"data":{"x":[0],"y":[0]},"selected":{"id":"2459"},"selection_policy":{"id":"2458"}},"id":"2354","type":"ColumnDataSource"},{"attributes":{"high":256,"low":0,"palette":["#30123b","#311542","#32184a","#341b51","#351e58","#36215f","#372365","#38266c","#392972","#3a2c79","#3b2f7f","#3c3285","#3c358b","#3d3791","#3e3a96","#3f3d9c","#4040a1","#4043a6","#4145ab","#4148b0","#424bb5","#434eba","#4350be","#4353c2","#4456c7","#4458cb","#455bce","#455ed2","#4560d6","#4563d9","#4666dd","#4668e0","#466be3","#466de6","#4670e8","#4673eb","#4675ed","#4678f0","#467af2","#467df4","#467ff6","#4682f8","#4584f9","#4587fb","#4589fc","#448cfd","#438efd","#4291fe","#4193fe","#4096fe","#3f98fe","#3e9bfe","#3c9dfd","#3ba0fc","#39a2fc","#38a5fb","#36a8f9","#34aaf8","#33acf6","#31aff5","#2fb1f3","#2db4f1","#2bb6ef","#2ab9ed","#28bbeb","#26bde9","#25c0e6","#23c2e4","#21c4e1","#20c6df","#1ec9dc","#1dcbda","#1ccdd7","#1bcfd4","#1ad1d2","#19d3cf","#18d5cc","#18d7ca","#17d9c7","#17dac4","#17dcc2","#17debf","#18e0bd","#18e1ba","#19e3b8","#1ae4b6","#1be5b4","#1de7b1","#1ee8af","#20e9ac","#22eba9","#24eca6","#27eda3","#29eea0","#2cef9d","#2ff09a","#32f197","#35f394","#38f491","#3bf48d","#3ff58a","#42f687","#46f783","#4af880","#4df97c","#51f979","#55fa76","#59fb72","#5dfb6f","#61fc6c","#65fc68","#69fd65","#6dfd62","#71fd5f","#74fe5c","#78fe59","#7cfe56","#80fe53","#84fe50","#87fe4d","#8bfe4b","#8efe48","#92fe46","#95fe44","#98fe42","#9bfd40","#9efd3e","#a1fc3d","#a4fc3b","#a6fb3a","#a9fb39","#acfa37","#aef937","#b1f836","#b3f835","#b6f735","#b9f534","#bbf434","#bef334","#c0f233","#c3f133","#c5ef33","#c8ee33","#caed33","#cdeb34","#cfea34","#d1e834","#d4e735","#d6e535","#d8e335","#dae236","#dde036","#dfde36","#e1dc37","#e3da37","#e5d838","#e7d738","#e8d538","#ead339","#ecd139","#edcf39","#efcd39","#f0cb3a","#f2c83a","#f3c63a","#f4c43a","#f6c23a","#f7c039","#f8be39","#f9bc39","#f9ba38","#fab737","#fbb537","#fbb336","#fcb035","#fcae34","#fdab33","#fda932","#fda631","#fda330","#fea12f","#fe9e2e","#fe9b2d","#fe982c","#fd952b","#fd9229","#fd8f28","#fd8c27","#fc8926","#fc8624","#fb8323","#fb8022","#fa7d20","#fa7a1f","#f9771e","#f8741c","#f7711b","#f76e1a","#f66b18","#f56817","#f46516","#f36315","#f26014","#f15d13","#ef5a11","#ee5810","#ed550f","#ec520e","#ea500d","#e94d0d","#e84b0c","#e6490b","#e5460a","#e3440a","#e24209","#e04008","#de3e08","#dd3c07","#db3a07","#d93806","#d73606","#d63405","#d43205","#d23005","#d02f04","#ce2d04","#cb2b03","#c92903","#c72803","#c52602","#c32402","#c02302","#be2102","#bb1f01","#b91e01","#b61c01","#b41b01","#b11901","#ae1801","#ac1601","#a91501","#a61401","#a31201","#a01101","#9d1001","#9a0e01","#970d01","#940c01","#910b01","#8e0a01","#8b0901","#870801","#840701","#810602","#7d0502","#7a0402"]},"id":"11446","type":"LinearColorMapper"},{"attributes":{},"id":"3329","type":"Selection"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"field":"z","transform":{"id":"11446"}},"hatch_alpha":{"value":0.2},"hatch_color":{"field":"z","transform":{"id":"11446"}},"line_alpha":{"value":0.2},"line_color":{"field":"z","transform":{"id":"11446"}},"x":{"field":"x"},"y":{"field":"y"}},"id":"11450","type":"Scatter"},{"attributes":{},"id":"10585","type":"Selection"},{"attributes":{},"id":"2456","type":"BasicTickFormatter"},{"attributes":{},"id":"2458","type":"UnionRenderers"},{"attributes":{"axis":{"id":"2368"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"2371","type":"Grid"},{"attributes":{},"id":"2459","type":"Selection"},{"attributes":{},"id":"2369","type":"BasicTicker"},{"attributes":{},"id":"2454","type":"AllLabels"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0.1},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"x":{"field":"x"},"y":{"field":"y"}},"id":"2388","type":"Scatter"},{"attributes":{"args":{"slider":{"id":"9055"},"source":{"id":"9015"}},"code":"\n\n    function rnormal() {\n            var u = 0, v = 0;\n            while(u === 0) u = Math.random(); \n            while(v === 0) v = Math.random();\n            return Math.sqrt( -2.0 * Math.log( u ) ) * Math.cos( 2.0 * Math.PI * v );\n        }\n\n    function sum(nums) {\n      var accumulator = 0;\n      for (var i = 0, l = nums.length; i &lt; l; i++)\n        accumulator += nums[i];\n      return accumulator;\n    }\n\n    function rbeta(alpha, beta) {\n      var alpha_gamma = rgamma(alpha, 1);\n      return alpha_gamma / (alpha_gamma + rgamma(beta, 1));\n    }\n\n    var SG_MAGICCONST = 1 + Math.log(4.5);\n    var LOG4 = Math.log(4.0);\n\n    function rgamma(alpha, beta) {\n      if (alpha &gt; 1) {\n        var ainv = Math.sqrt(2.0 * alpha - 1.0);\n        var bbb = alpha - LOG4;\n        var ccc = alpha + ainv;\n\n        while (true) {\n          var u1 = Math.random();\n          if (!((1e-7 &lt; u1) &amp;&amp; (u1 &lt; 0.9999999))) {\n            continue;\n          }\n          var u2 = 1.0 - Math.random();\n          var v = Math.log(u1/(1.0-u1))/ainv;\n          var x = alpha*Math.exp(v);\n          var z = u1*u1*u2;\n          var r = bbb+ccc*v-x;\n          if (r + SG_MAGICCONST - 4.5*z &gt;= 0.0 || r &gt;= Math.log(z)) {\n            return x * beta;\n          }\n        }\n      }\n      else if (alpha == 1.0) {\n        var u = Math.random();\n        while (u &lt;= 1e-7) {\n          u = Math.random();\n        }\n        return -Math.log(u) * beta;\n      }\n      else { \n        while (true) {\n          var u3 = Math.random();\n          var b = (Math.E + alpha)/Math.E;\n          var p = b*u3;\n          if (p &lt;= 1.0) {\n            var x = Math.pow(p, (1.0/alpha));\n          }\n          else {\n            var x = -Math.log((b-p)/alpha);\n          }\n          var u4 = Math.random();\n          if (p &gt; 1.0) {\n            if (u4 &lt;= Math.pow(x, (alpha - 1.0))) {\n              break;\n            }\n          }\n          else if (u4 &lt;= Math.exp(-x)) {\n            break;\n          }\n        }\n        return x * beta;\n      }\n    }\n    \n    function rdirichlet(alpha) {\n      var gammas = [];\n      for (var i = 0, l = alpha.length; i &lt; l; i++)\n        gammas.push(rgamma(alpha[i], 1));\n        \n      var accum = sum(gammas)\n      \n      for (var i = 0, l = gammas.length; i &lt; l; i++)\n        gammas[i] = gammas[i]/accum\n      return gammas\n    }\n    \n    function rcategorical(pi){\n      var u = Math.random();\n      var k = 0\n      var cum = pi[0]\n      for (var i = 1, l = pi.length; i &lt; l; i++)\n        if (u &lt;= cum){\n            break;\n        }\n        else{\n            cum = cum + pi[i]\n            k = k+1\n        }\n      return k\n    }\n      \n    \n    const data = source.data;\n    var x = data['x']\n    var y = data['y']\n    var zs = data['z']\n\n    var alpha = slider.value\n    \n\n    var vs = [rbeta(1,alpha)]\n    var pi = vs.concat([1-vs[0]])\n    var means_x = [rnormal()]\n    var means_y = [rnormal()]\n    var seen_cluster = [0]\n    var i = 0\n    var z = 0\n    var new_prob = 1\n    var old_slider_val = slider.value\n\n    function update() {\n        \n        \n        if ((old_slider_val != slider.value) &amp;&amp;  (x.length &gt; 0))  {\n            alpha = slider.value\n            vs = [rbeta(1,alpha)]\n            pi = vs.concat([1-vs[0]])\n            means_x = [rnormal()]\n            means_y = [rnormal()]\n            seen_cluster = [0]\n            i = 0\n            z = 0\n        \n            data[\"x\"] = []\n            data[\"y\"] = []\n            data[\"z\"] = []\n            x = []\n            y = []\n            z = []\n            cb_obj.active = false\n            source.change.emit();\n            old_slider_val = slider.value \n            return;\n        }\n\n        if (!(cb_obj.active)){\n            return;\n        }\n\n\n        \n        \n        i = i + 1;\n        z = rcategorical(pi);\n        \n       \n        if (seen_cluster.includes(z)){\n\n            x.push(means_x[z] + rnormal()*0.1);\n            y.push(means_y[z] + rnormal()*0.1);\n            zs.push(seen_cluster.indexOf(z))\n        }\n        else{\n            vs.push(rbeta(1,alpha))\n            new_prob = 1\n            for (let i = 0; i &lt; vs.length-1; i++) {\n                new_prob = new_prob*(1-vs[i])\n            }\n            new_prob = new_prob*vs[vs.length-1]\n            pi[pi.length-1] = new_prob\n            pi = pi.concat([1-sum(pi)])\n        \n            seen_cluster.push(z)\n            means_x.push(rnormal())\n            means_y.push(rnormal())\n\n            x.push(means_x[z] + rnormal()*0.1);\n            y.push(means_y[z] + rnormal()*0.1);\n            zs.push(seen_cluster.indexOf(z))\n        }  \n        source.change.emit();\n    }\n    \n    if ((x.length == 0)){\n        var looop = setInterval(update, 10);\n    }\n\n    if(cb_obj.active == false){\n        cb_obj.label = '\u25ba Play';\n    }\n    else {\n        cb_obj.label = '\u275a\u275a Pause';\n\n    }\n    \n"},"id":"9056","type":"CustomJS"},{"attributes":{},"id":"2373","type":"WheelZoomTool"},{"attributes":{},"id":"2372","type":"PanTool"},{"attributes":{},"id":"9381","type":"Selection"},{"attributes":{"data":{"x":[],"y":[],"z":[]},"selected":{"id":"8263"},"selection_policy":{"id":"8262"}},"id":"7937","type":"ColumnDataSource"},{"attributes":{"overlay":{"id":"2378"}},"id":"2374","type":"BoxZoomTool"},{"attributes":{},"id":"2377","type":"HelpTool"},{"attributes":{},"id":"2375","type":"SaveTool"},{"attributes":{},"id":"2457","type":"AllLabels"},{"attributes":{"coordinates":null,"group":null},"id":"11862","type":"Title"},{"attributes":{},"id":"11875","type":"Selection"},{"attributes":{"end":100,"js_property_callbacks":{"change:value":[{"id":"4467"}]},"start":0.01,"step":0.01,"title":"alpha","value":50},"id":"4509","type":"Slider"},{"attributes":{"args":{"p":{"id":"2355"},"source":{"id":"2354"}},"code":"\n\n    function rnormal() {\n            var u = 0, v = 0;\n            while(u === 0) u = Math.random(); \n            while(v === 0) v = Math.random();\n            return Math.sqrt( -2.0 * Math.log( u ) ) * Math.cos( 2.0 * Math.PI * v );\n        }\n\n    function sum(nums) {\n      var accumulator = 0;\n      for (var i = 0, l = nums.length; i &lt; l; i++)\n        accumulator += nums[i];\n      return accumulator;\n    }\n\n    function rbeta(alpha, beta) {\n      var alpha_gamma = rgamma(alpha, 1);\n      return alpha_gamma / (alpha_gamma + rgamma(beta, 1));\n    }\n\n    var SG_MAGICCONST = 1 + Math.log(4.5);\n    var LOG4 = Math.log(4.0);\n\n    function rgamma(alpha, beta) {\n      if (alpha &gt; 1) {\n        var ainv = Math.sqrt(2.0 * alpha - 1.0);\n        var bbb = alpha - LOG4;\n        var ccc = alpha + ainv;\n\n        while (true) {\n          var u1 = Math.random();\n          if (!((1e-7 &lt; u1) &amp;&amp; (u1 &lt; 0.9999999))) {\n            continue;\n          }\n          var u2 = 1.0 - Math.random();\n          var v = Math.log(u1/(1.0-u1))/ainv;\n          var x = alpha*Math.exp(v);\n          var z = u1*u1*u2;\n          var r = bbb+ccc*v-x;\n          if (r + SG_MAGICCONST - 4.5*z &gt;= 0.0 || r &gt;= Math.log(z)) {\n            return x * beta;\n          }\n        }\n      }\n      else if (alpha == 1.0) {\n        var u = Math.random();\n        while (u &lt;= 1e-7) {\n          u = Math.random();\n        }\n        return -Math.log(u) * beta;\n      }\n      else { \n        while (true) {\n          var u3 = Math.random();\n          var b = (Math.E + alpha)/Math.E;\n          var p = b*u3;\n          if (p &lt;= 1.0) {\n            var x = Math.pow(p, (1.0/alpha));\n          }\n          else {\n            var x = -Math.log((b-p)/alpha);\n          }\n          var u4 = Math.random();\n          if (p &gt; 1.0) {\n            if (u4 &lt;= Math.pow(x, (alpha - 1.0))) {\n              break;\n            }\n          }\n          else if (u4 &lt;= Math.exp(-x)) {\n            break;\n          }\n        }\n        return x * beta;\n      }\n    }\n    \n    function rdirichlet(alpha) {\n      var gammas = [];\n      for (var i = 0, l = alpha.length; i &lt; l; i++)\n        gammas.push(rgamma(alpha[i], 1));\n        \n      var accum = sum(gammas)\n      \n      for (var i = 0, l = gammas.length; i &lt; l; i++)\n        gammas[i] = gammas[i]/accum\n      return gammas\n    }\n    \n    function rcategorical(pi){\n      var u = Math.random();\n      var k = 0\n      var cum = pi[0]\n      for (var i = 1, l = pi.length; i &lt; l; i++)\n        if (u &lt;= cum){\n            break;\n        }\n        else{\n            cum = cum + pi[i]\n            k = k+1\n        }\n      return k\n    }\n      \n    \n    const data = source.data;\n    var x = data['x']\n    var y = data['y']\n\n    var alpha = 100.\n    \n\n    var vs = [rbeta(1,alpha)]\n    var pi = vs.concat([1-vs[0]])\n    var seen_cluster = [0]\n    var i = 0\n    var z = 0\n    var new_prob = 1\n\n    function update() {\n    \n        if (!(cb_obj.active)){\n            return;\n        }\n        \n        console.log(pi)\n        console.log(vs)\n        \n        i = i + 1;\n        z = rcategorical(pi);\n        \n       \n        if (seen_cluster.includes(z)){\n            x.push(i);\n            y.push(seen_cluster.indexOf(z));\n        }\n        else{\n            vs.push(rbeta(1,alpha))\n            new_prob = 1\n            for (let i = 0; i &lt; vs.length-1; i++) {\n                new_prob = new_prob*(1-vs[i])\n            }\n            new_prob = new_prob*vs[vs.length-1]\n            pi[pi.length-1] = new_prob\n            console.log(pi)\n            pi = pi.concat([1-sum(pi)])\n            console.log(pi)\n        \n            seen_cluster.push(z)\n            pi.push()\n            x.push(i);\n            y.push(seen_cluster.indexOf(z));\n        }  \n        source.change.emit();\n    }\n    \n    if (x.length == 1){\n        var looop = setInterval(update, 100);\n    }\n\n    if(cb_obj.active == false){\n        cb_obj.label = '\u25ba Play';\n    }\n    else {\n        cb_obj.label = '\u275a\u275a Pause';\n\n    }\n    \n"},"id":"2392","type":"CustomJS"},{"attributes":{},"id":"2376","type":"ResetTool"},{"attributes":{},"id":"11874","type":"UnionRenderers"},{"attributes":{"end":100,"js_property_callbacks":{"change:value":[{"id":"6976"}]},"start":0.01,"step":0.01,"title":"alpha","value":50},"id":"7977","type":"Slider"},{"attributes":{"start":0},"id":"2356","type":"DataRange1d"},{"attributes":{"coordinates":null,"group":null},"id":"2450","type":"Title"},{"attributes":{"button_type":"success","icon":null,"js_property_callbacks":{"change:active":[{"id":"11460"}]},"label":"\u25ba Play","width":320},"id":"11462","type":"Toggle"},{"attributes":{},"id":"3940","type":"UnionRenderers"},{"attributes":{},"id":"3941","type":"Selection"},{"attributes":{"args":{"slider":{"id":"7977"},"source":{"id":"7937"}},"code":"\n\n    function rnormal() {\n            var u = 0, v = 0;\n            while(u === 0) u = Math.random(); \n            while(v === 0) v = Math.random();\n            return Math.sqrt( -2.0 * Math.log( u ) ) * Math.cos( 2.0 * Math.PI * v );\n        }\n\n    function sum(nums) {\n      var accumulator = 0;\n      for (var i = 0, l = nums.length; i &lt; l; i++)\n        accumulator += nums[i];\n      return accumulator;\n    }\n\n    function rbeta(alpha, beta) {\n      var alpha_gamma = rgamma(alpha, 1);\n      return alpha_gamma / (alpha_gamma + rgamma(beta, 1));\n    }\n\n    var SG_MAGICCONST = 1 + Math.log(4.5);\n    var LOG4 = Math.log(4.0);\n\n    function rgamma(alpha, beta) {\n      if (alpha &gt; 1) {\n        var ainv = Math.sqrt(2.0 * alpha - 1.0);\n        var bbb = alpha - LOG4;\n        var ccc = alpha + ainv;\n\n        while (true) {\n          var u1 = Math.random();\n          if (!((1e-7 &lt; u1) &amp;&amp; (u1 &lt; 0.9999999))) {\n            continue;\n          }\n          var u2 = 1.0 - Math.random();\n          var v = Math.log(u1/(1.0-u1))/ainv;\n          var x = alpha*Math.exp(v);\n          var z = u1*u1*u2;\n          var r = bbb+ccc*v-x;\n          if (r + SG_MAGICCONST - 4.5*z &gt;= 0.0 || r &gt;= Math.log(z)) {\n            return x * beta;\n          }\n        }\n      }\n      else if (alpha == 1.0) {\n        var u = Math.random();\n        while (u &lt;= 1e-7) {\n          u = Math.random();\n        }\n        return -Math.log(u) * beta;\n      }\n      else { \n        while (true) {\n          var u3 = Math.random();\n          var b = (Math.E + alpha)/Math.E;\n          var p = b*u3;\n          if (p &lt;= 1.0) {\n            var x = Math.pow(p, (1.0/alpha));\n          }\n          else {\n            var x = -Math.log((b-p)/alpha);\n          }\n          var u4 = Math.random();\n          if (p &gt; 1.0) {\n            if (u4 &lt;= Math.pow(x, (alpha - 1.0))) {\n              break;\n            }\n          }\n          else if (u4 &lt;= Math.exp(-x)) {\n            break;\n          }\n        }\n        return x * beta;\n      }\n    }\n    \n    function rdirichlet(alpha) {\n      var gammas = [];\n      for (var i = 0, l = alpha.length; i &lt; l; i++)\n        gammas.push(rgamma(alpha[i], 1));\n        \n      var accum = sum(gammas)\n      \n      for (var i = 0, l = gammas.length; i &lt; l; i++)\n        gammas[i] = gammas[i]/accum\n      return gammas\n    }\n    \n    function rcategorical(pi){\n      var u = Math.random();\n      var k = 0\n      var cum = pi[0]\n      for (var i = 1, l = pi.length; i &lt; l; i++)\n        if (u &lt;= cum){\n            break;\n        }\n        else{\n            cum = cum + pi[i]\n            k = k+1\n        }\n      return k\n    }\n      \n    \n    const data = source.data;\n    var x = data['x']\n    var y = data['y']\n    var zs = data['z']\n\n    var alpha = slider.value\n    \n\n    var vs = [rbeta(1,alpha)]\n    var pi = vs.concat([1-vs[0]])\n    var means_x = [rnormal()]\n    var means_y = [rnormal()]\n    var seen_cluster = [0]\n    var i = 0\n    var z = 0\n    var new_prob = 1\n    var old_slider_val = slider.value\n\n    function update() {\n        \n        \n        if ((old_slider_val != slider.value) &amp;&amp;  (x.length &gt; 0))  {\n            alpha = slider.value\n            vs = [rbeta(1,alpha)]\n            pi = vs.concat([1-vs[0]])\n            means_x = [rnormal()]\n            means_y = [rnormal()]\n            seen_cluster = [0]\n            i = 0\n            z = 0\n        \n            data[\"x\"] = []\n            data[\"y\"] = []\n            data[\"z\"] = []\n            x = []\n            y = []\n            z = []\n            cb_obj.active = false\n            source.change.emit();\n            old_slider_val = slider.value \n            return;\n        }\n\n        if (!(cb_obj.active)){\n            return;\n        }\n\n\n        \n        \n        i = i + 1;\n        z = rcategorical(pi);\n        \n       \n        if (seen_cluster.includes(z)){\n\n            x.push(means_x[z] + rnormal()*0.1);\n            y.push(means_y[z] + rnormal()*0.1);\n            zs.push(seen_cluster.indexOf(z))\n        }\n        else{\n            vs.push(rbeta(1,alpha))\n            new_prob = 1\n            for (let i = 0; i &lt; vs.length-1; i++) {\n                new_prob = new_prob*(1-vs[i])\n            }\n            new_prob = new_prob*vs[vs.length-1]\n            pi[pi.length-1] = new_prob\n            pi = pi.concat([1-sum(pi)])\n        \n            seen_cluster.push(z)\n            means_x.push(rnormal())\n            means_y.push(rnormal())\n\n            x.push(means_x[z] + rnormal()*0.1);\n            y.push(means_y[z] + rnormal()*0.1);\n            zs.push(seen_cluster.indexOf(z))\n        }  \n        source.change.emit();\n    }\n    \n    if ((x.length == 0)){\n        var looop = setInterval(update, 10);\n    }\n\n    if(cb_obj.active == false){\n        cb_obj.label = '\u25ba Play';\n    }\n    else {\n        cb_obj.label = '\u275a\u275a Pause';\n\n    }\n    \n"},"id":"7978","type":"CustomJS"},{"attributes":{},"id":"2778","type":"UnionRenderers"},{"attributes":{"coordinates":null,"data_source":{"id":"11413"},"glyph":{"id":"11448"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11450"},"nonselection_glyph":{"id":"11449"},"view":{"id":"11452"}},"id":"11451","type":"GlyphRenderer"},{"attributes":{"fill_color":{"value":"#1f77b4"},"line_color":{"value":"#1f77b4"},"x":{"field":"x"},"y":{"field":"y"}},"id":"2387","type":"Scatter"},{"attributes":{"end":100,"js_property_callbacks":{"change:value":[{"id":"9056"}]},"start":0.01,"step":0.01,"title":"alpha","value":50},"id":"10217","type":"Slider"},{"attributes":{"tools":[{"id":"2372"},{"id":"2373"},{"id":"2374"},{"id":"2375"},{"id":"2376"},{"id":"2377"}]},"id":"2379","type":"Toolbar"},{"attributes":{"data":{"x":[],"y":[],"z":[]},"selected":{"id":"9381"},"selection_policy":{"id":"9380"}},"id":"9015","type":"ColumnDataSource"},{"attributes":{},"id":"2362","type":"LinearScale"},{"attributes":{},"id":"9380","type":"UnionRenderers"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"2378","type":"BoxAnnotation"},{"attributes":{"end":100,"js_property_callbacks":{"change:value":[{"id":"10218"}]},"start":0.01,"step":0.01,"title":"alpha","value":50},"id":"11459","type":"Slider"},{"attributes":{"data":{"data":[],"x":[],"y":[],"z":[]},"selected":{"id":"4661"},"selection_policy":{"id":"4660"}},"id":"4470","type":"ColumnDataSource"},{"attributes":{"args":{"slider":{"id":"5262"},"source":{"id":"5223"}},"code":"\n\n    function rnormal() {\n            var u = 0, v = 0;\n            while(u === 0) u = Math.random(); \n            while(v === 0) v = Math.random();\n            return Math.sqrt( -2.0 * Math.log( u ) ) * Math.cos( 2.0 * Math.PI * v );\n        }\n\n    function sum(nums) {\n      var accumulator = 0;\n      for (var i = 0, l = nums.length; i &lt; l; i++)\n        accumulator += nums[i];\n      return accumulator;\n    }\n\n    function rbeta(alpha, beta) {\n      var alpha_gamma = rgamma(alpha, 1);\n      return alpha_gamma / (alpha_gamma + rgamma(beta, 1));\n    }\n\n    var SG_MAGICCONST = 1 + Math.log(4.5);\n    var LOG4 = Math.log(4.0);\n\n    function rgamma(alpha, beta) {\n      if (alpha &gt; 1) {\n        var ainv = Math.sqrt(2.0 * alpha - 1.0);\n        var bbb = alpha - LOG4;\n        var ccc = alpha + ainv;\n\n        while (true) {\n          var u1 = Math.random();\n          if (!((1e-7 &lt; u1) &amp;&amp; (u1 &lt; 0.9999999))) {\n            continue;\n          }\n          var u2 = 1.0 - Math.random();\n          var v = Math.log(u1/(1.0-u1))/ainv;\n          var x = alpha*Math.exp(v);\n          var z = u1*u1*u2;\n          var r = bbb+ccc*v-x;\n          if (r + SG_MAGICCONST - 4.5*z &gt;= 0.0 || r &gt;= Math.log(z)) {\n            return x * beta;\n          }\n        }\n      }\n      else if (alpha == 1.0) {\n        var u = Math.random();\n        while (u &lt;= 1e-7) {\n          u = Math.random();\n        }\n        return -Math.log(u) * beta;\n      }\n      else { \n        while (true) {\n          var u3 = Math.random();\n          var b = (Math.E + alpha)/Math.E;\n          var p = b*u3;\n          if (p &lt;= 1.0) {\n            var x = Math.pow(p, (1.0/alpha));\n          }\n          else {\n            var x = -Math.log((b-p)/alpha);\n          }\n          var u4 = Math.random();\n          if (p &gt; 1.0) {\n            if (u4 &lt;= Math.pow(x, (alpha - 1.0))) {\n              break;\n            }\n          }\n          else if (u4 &lt;= Math.exp(-x)) {\n            break;\n          }\n        }\n        return x * beta;\n      }\n    }\n    \n    function rdirichlet(alpha) {\n      var gammas = [];\n      for (var i = 0, l = alpha.length; i &lt; l; i++)\n        gammas.push(rgamma(alpha[i], 1));\n        \n      var accum = sum(gammas)\n      \n      for (var i = 0, l = gammas.length; i &lt; l; i++)\n        gammas[i] = gammas[i]/accum\n      return gammas\n    }\n    \n    function rcategorical(pi){\n      var u = Math.random();\n      var k = 0\n      var cum = pi[0]\n      for (var i = 1, l = pi.length; i &lt; l; i++)\n        if (u &lt;= cum){\n            break;\n        }\n        else{\n            cum = cum + pi[i]\n            k = k+1\n        }\n      return k\n    }\n      \n    \n    const data = source.data;\n    var x = data['x']\n    var y = data['y']\n    var zs = data['z']\n\n    var alpha = slider.value\n    \n\n    var vs = [rbeta(1,alpha)]\n    var pi = vs.concat([1-vs[0]])\n    var means_x = [rnormal()]\n    var means_y = [rnormal()]\n    var seen_cluster = [0]\n    var i = 0\n    var z = 0\n    var new_prob = 1\n    var old_slider_val = slider.value\n\n    function update() {\n        \n        \n        if ((old_slider_val != slider.value) &amp;&amp;  (x.length &gt; 0))  {\n            alpha = slider.value\n            vs = [rbeta(1,alpha)]\n            pi = vs.concat([1-vs[0]])\n            means_x = [rnormal()]\n            means_y = [rnormal()]\n            seen_cluster = [0]\n            i = 0\n            z = 0\n        \n            data[\"x\"] = []\n            data[\"y\"] = []\n            data[\"z\"] = []\n            x = []\n            y = []\n            z = []\n            cb_obj.active = false\n            source.change.emit();\n            old_slider_val = slider.value \n            return;\n        }\n\n        if (!(cb_obj.active)){\n            return;\n        }\n\n\n        \n        \n        i = i + 1;\n        z = rcategorical(pi);\n        \n       \n        if (seen_cluster.includes(z)){\n\n            x.push(means_x[z] + rnormal()*0.1);\n            y.push(means_y[z] + rnormal()*0.1);\n            zs.push(seen_cluster.indexOf(z))\n        }\n        else{\n            vs.push(rbeta(1,alpha))\n            new_prob = 1\n            for (let i = 0; i &lt; vs.length-1; i++) {\n                new_prob = new_prob*(1-vs[i])\n            }\n            new_prob = new_prob*vs[vs.length-1]\n            pi[pi.length-1] = new_prob\n            pi = pi.concat([1-sum(pi)])\n        \n            seen_cluster.push(z)\n            means_x.push(rnormal())\n            means_y.push(rnormal())\n\n            x.push(means_x[z] + rnormal()*0.1);\n            y.push(means_y[z] + rnormal()*0.1);\n            zs.push(seen_cluster.indexOf(z))\n        }  \n        source.change.emit();\n    }\n    \n    if ((x.length == 0)){\n        var looop = setInterval(update, 10);\n    }\n\n    if(cb_obj.active == false){\n        cb_obj.label = '\u25ba Play';\n    }\n    else {\n        cb_obj.label = '\u275a\u275a Pause';\n\n    }\n    \n"},"id":"5263","type":"CustomJS"},{"attributes":{},"id":"10584","type":"UnionRenderers"},{"attributes":{"args":{"slider":{"id":"6975"},"source":{"id":"6935"}},"code":"\n\n    function rnormal() {\n            var u = 0, v = 0;\n            while(u === 0) u = Math.random(); \n            while(v === 0) v = Math.random();\n            return Math.sqrt( -2.0 * Math.log( u ) ) * Math.cos( 2.0 * Math.PI * v );\n        }\n\n    function sum(nums) {\n      var accumulator = 0;\n      for (var i = 0, l = nums.length; i &lt; l; i++)\n        accumulator += nums[i];\n      return accumulator;\n    }\n\n    function rbeta(alpha, beta) {\n      var alpha_gamma = rgamma(alpha, 1);\n      return alpha_gamma / (alpha_gamma + rgamma(beta, 1));\n    }\n\n    var SG_MAGICCONST = 1 + Math.log(4.5);\n    var LOG4 = Math.log(4.0);\n\n    function rgamma(alpha, beta) {\n      if (alpha &gt; 1) {\n        var ainv = Math.sqrt(2.0 * alpha - 1.0);\n        var bbb = alpha - LOG4;\n        var ccc = alpha + ainv;\n\n        while (true) {\n          var u1 = Math.random();\n          if (!((1e-7 &lt; u1) &amp;&amp; (u1 &lt; 0.9999999))) {\n            continue;\n          }\n          var u2 = 1.0 - Math.random();\n          var v = Math.log(u1/(1.0-u1))/ainv;\n          var x = alpha*Math.exp(v);\n          var z = u1*u1*u2;\n          var r = bbb+ccc*v-x;\n          if (r + SG_MAGICCONST - 4.5*z &gt;= 0.0 || r &gt;= Math.log(z)) {\n            return x * beta;\n          }\n        }\n      }\n      else if (alpha == 1.0) {\n        var u = Math.random();\n        while (u &lt;= 1e-7) {\n          u = Math.random();\n        }\n        return -Math.log(u) * beta;\n      }\n      else { \n        while (true) {\n          var u3 = Math.random();\n          var b = (Math.E + alpha)/Math.E;\n          var p = b*u3;\n          if (p &lt;= 1.0) {\n            var x = Math.pow(p, (1.0/alpha));\n          }\n          else {\n            var x = -Math.log((b-p)/alpha);\n          }\n          var u4 = Math.random();\n          if (p &gt; 1.0) {\n            if (u4 &lt;= Math.pow(x, (alpha - 1.0))) {\n              break;\n            }\n          }\n          else if (u4 &lt;= Math.exp(-x)) {\n            break;\n          }\n        }\n        return x * beta;\n      }\n    }\n    \n    function rdirichlet(alpha) {\n      var gammas = [];\n      for (var i = 0, l = alpha.length; i &lt; l; i++)\n        gammas.push(rgamma(alpha[i], 1));\n        \n      var accum = sum(gammas)\n      \n      for (var i = 0, l = gammas.length; i &lt; l; i++)\n        gammas[i] = gammas[i]/accum\n      return gammas\n    }\n    \n    function rcategorical(pi){\n      var u = Math.random();\n      var k = 0\n      var cum = pi[0]\n      for (var i = 1, l = pi.length; i &lt; l; i++)\n        if (u &lt;= cum){\n            break;\n        }\n        else{\n            cum = cum + pi[i]\n            k = k+1\n        }\n      return k\n    }\n      \n    \n    const data = source.data;\n    var x = data['x']\n    var y = data['y']\n    var zs = data['z']\n\n    var alpha = slider.value\n    \n\n    var vs = [rbeta(1,alpha)]\n    var pi = vs.concat([1-vs[0]])\n    var means_x = [rnormal()]\n    var means_y = [rnormal()]\n    var seen_cluster = [0]\n    var i = 0\n    var z = 0\n    var new_prob = 1\n    var old_slider_val = slider.value\n\n    function update() {\n        \n        \n        if ((old_slider_val != slider.value) &amp;&amp;  (x.length &gt; 0))  {\n            alpha = slider.value\n            vs = [rbeta(1,alpha)]\n            pi = vs.concat([1-vs[0]])\n            means_x = [rnormal()]\n            means_y = [rnormal()]\n            seen_cluster = [0]\n            i = 0\n            z = 0\n        \n            data[\"x\"] = []\n            data[\"y\"] = []\n            data[\"z\"] = []\n            x = []\n            y = []\n            z = []\n            cb_obj.active = false\n            source.change.emit();\n            old_slider_val = slider.value \n            return;\n        }\n\n        if (!(cb_obj.active)){\n            return;\n        }\n\n\n        \n        \n        i = i + 1;\n        z = rcategorical(pi);\n        \n       \n        if (seen_cluster.includes(z)){\n\n            x.push(means_x[z] + rnormal()*0.1);\n            y.push(means_y[z] + rnormal()*0.1);\n            zs.push(seen_cluster.indexOf(z))\n        }\n        else{\n            vs.push(rbeta(1,alpha))\n            new_prob = 1\n            for (let i = 0; i &lt; vs.length-1; i++) {\n                new_prob = new_prob*(1-vs[i])\n            }\n            new_prob = new_prob*vs[vs.length-1]\n            pi[pi.length-1] = new_prob\n            pi = pi.concat([1-sum(pi)])\n        \n            seen_cluster.push(z)\n            means_x.push(rnormal())\n            means_y.push(rnormal())\n\n            x.push(means_x[z] + rnormal()*0.1);\n            y.push(means_y[z] + rnormal()*0.1);\n            zs.push(seen_cluster.indexOf(z))\n        }  \n        source.change.emit();\n    }\n    \n    if ((x.length == 0)){\n        var looop = setInterval(update, 10);\n    }\n\n    if(cb_obj.active == false){\n        cb_obj.label = '\u25ba Play';\n    }\n    else {\n        cb_obj.label = '\u275a\u275a Pause';\n\n    }\n    \n"},"id":"6976","type":"CustomJS"},{"attributes":{},"id":"2360","type":"LinearScale"},{"attributes":{"coordinates":null,"data_source":{"id":"2354"},"glyph":{"id":"2387"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"2389"},"nonselection_glyph":{"id":"2388"},"view":{"id":"2391"}},"id":"2390","type":"GlyphRenderer"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0.2},"line_alpha":{"value":0.2},"line_color":{"value":"#1f77b4"},"x":{"field":"x"},"y":{"field":"y"}},"id":"2389","type":"Scatter"},{"attributes":{"source":{"id":"11413"}},"id":"11452","type":"CDSView"},{"attributes":{"end":100,"js_property_callbacks":{"change:value":[{"id":"2392"}]},"start":0.01,"step":0.01,"title":"alpha","value":50},"id":"2700","type":"Slider"},{"attributes":{"source":{"id":"2354"}},"id":"2391","type":"CDSView"},{"attributes":{"source":{"id":"11414"}},"id":"11458","type":"CDSView"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"red"},"hatch_alpha":{"value":0.2},"hatch_color":{"value":"red"},"line_alpha":{"value":0.2},"line_color":{"value":"red"},"x":{"field":"o_x"},"y":{"field":"o_y"}},"id":"11456","type":"Scatter"},{"attributes":{"axis_label":"Assignt cluster in order of appearence","coordinates":null,"formatter":{"id":"2453"},"group":null,"major_label_policy":{"id":"2454"},"ticker":{"id":"2369"}},"id":"2368","type":"LinearAxis"},{"attributes":{"coordinates":null,"data_source":{"id":"11414"},"glyph":{"id":"11454"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11456"},"nonselection_glyph":{"id":"11455"},"view":{"id":"11458"}},"id":"11457","type":"GlyphRenderer"},{"attributes":{"axis":{"id":"2364"},"coordinates":null,"group":null,"ticker":null},"id":"2367","type":"Grid"},{"attributes":{"end":100,"js_property_callbacks":{"change:value":[{"id":"7978"}]},"start":0.01,"step":0.01,"title":"alpha","value":50},"id":"9055","type":"Slider"},{"attributes":{},"id":"2779","type":"Selection"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"field":"z","transform":{"id":"11446"}},"hatch_alpha":{"value":0.1},"hatch_color":{"field":"z","transform":{"id":"11446"}},"line_alpha":{"value":0.1},"line_color":{"field":"z","transform":{"id":"11446"}},"x":{"field":"x"},"y":{"field":"y"}},"id":"11449","type":"Scatter"},{"attributes":{"data":{"x":[],"y":[],"z":[]},"selected":{"id":"2779"},"selection_policy":{"id":"2778"}},"id":"2661","type":"ColumnDataSource"},{"attributes":{"data":{"data":[],"x":[],"y":[],"z":[]},"selected":{"id":"5444"},"selection_policy":{"id":"5443"}},"id":"5223","type":"ColumnDataSource"},{"attributes":{"axis_label":"Datapoints","coordinates":null,"formatter":{"id":"2456"},"group":null,"major_label_policy":{"id":"2457"},"ticker":{"id":"2365"}},"id":"2364","type":"LinearAxis"},{"attributes":{"args":{"slider":{"id":"11459"},"source":{"id":"11413"}},"code":"\n\n    function rnormal() {\n            var u = 0, v = 0;\n            while(u === 0) u = Math.random(); \n            while(v === 0) v = Math.random();\n            return Math.sqrt( -2.0 * Math.log( u ) ) * Math.cos( 2.0 * Math.PI * v );\n        }\n\n    function sum(nums) {\n      var accumulator = 0;\n      for (var i = 0, l = nums.length; i &lt; l; i++)\n        accumulator += nums[i];\n      return accumulator;\n    }\n\n    function rbeta(alpha, beta) {\n      var alpha_gamma = rgamma(alpha, 1);\n      return alpha_gamma / (alpha_gamma + rgamma(beta, 1));\n    }\n\n    var SG_MAGICCONST = 1 + Math.log(4.5);\n    var LOG4 = Math.log(4.0);\n\n    function rgamma(alpha, beta) {\n      if (alpha &gt; 1) {\n        var ainv = Math.sqrt(2.0 * alpha - 1.0);\n        var bbb = alpha - LOG4;\n        var ccc = alpha + ainv;\n\n        while (true) {\n          var u1 = Math.random();\n          if (!((1e-7 &lt; u1) &amp;&amp; (u1 &lt; 0.9999999))) {\n            continue;\n          }\n          var u2 = 1.0 - Math.random();\n          var v = Math.log(u1/(1.0-u1))/ainv;\n          var x = alpha*Math.exp(v);\n          var z = u1*u1*u2;\n          var r = bbb+ccc*v-x;\n          if (r + SG_MAGICCONST - 4.5*z &gt;= 0.0 || r &gt;= Math.log(z)) {\n            return x * beta;\n          }\n        }\n      }\n      else if (alpha == 1.0) {\n        var u = Math.random();\n        while (u &lt;= 1e-7) {\n          u = Math.random();\n        }\n        return -Math.log(u) * beta;\n      }\n      else { \n        while (true) {\n          var u3 = Math.random();\n          var b = (Math.E + alpha)/Math.E;\n          var p = b*u3;\n          if (p &lt;= 1.0) {\n            var x = Math.pow(p, (1.0/alpha));\n          }\n          else {\n            var x = -Math.log((b-p)/alpha);\n          }\n          var u4 = Math.random();\n          if (p &gt; 1.0) {\n            if (u4 &lt;= Math.pow(x, (alpha - 1.0))) {\n              break;\n            }\n          }\n          else if (u4 &lt;= Math.exp(-x)) {\n            break;\n          }\n        }\n        return x * beta;\n      }\n    }\n    \n    function rdirichlet(alpha) {\n      var gammas = [];\n      for (var i = 0, l = alpha.length; i &lt; l; i++)\n        gammas.push(rgamma(alpha[i], 1));\n        \n      var accum = sum(gammas)\n      \n      for (var i = 0, l = gammas.length; i &lt; l; i++)\n        gammas[i] = gammas[i]/accum\n      return gammas\n    }\n    \n    function rcategorical(pi){\n      var u = Math.random();\n      var k = 0\n      var cum = pi[0]\n      for (var i = 1, l = pi.length; i &lt; l; i++)\n        if (u &lt;= cum){\n            break;\n        }\n        else{\n            cum = cum + pi[i]\n            k = k+1\n        }\n      return k\n    }\n      \n    \n    const data = source.data;\n    var x = data['x']\n    var y = data['y']\n    var zs = data['z']\n\n    var alpha = slider.value\n    \n\n    var vs = [rbeta(1,alpha)]\n    var pi = vs.concat([1-vs[0]])\n    var means_x = [rnormal()]\n    var means_y = [rnormal()]\n    var seen_cluster = [0]\n    var i = 0\n    var z = 0\n    var new_prob = 1\n    var old_slider_val = slider.value\n\n    function update() {\n        \n        \n        if ((old_slider_val != slider.value) &amp;&amp;  (x.length &gt; 0))  {\n            alpha = slider.value\n            vs = [rbeta(1,alpha)]\n            pi = vs.concat([1-vs[0]])\n            means_x = [rnormal()]\n            means_y = [rnormal()]\n            seen_cluster = [0]\n            i = 0\n            z = 0\n        \n            data[\"x\"] = []\n            data[\"y\"] = []\n            data[\"z\"] = []\n            x = []\n            y = []\n            z = []\n            cb_obj.active = false\n            source.change.emit();\n            old_slider_val = slider.value \n            return;\n        }\n\n        if (!(cb_obj.active)){\n            return;\n        }\n\n\n        \n        \n        i = i + 1;\n        z = rcategorical(pi);\n        \n       \n        if (seen_cluster.includes(z)){\n\n            x.push(means_x[z] + rnormal()*0.1);\n            y.push(means_y[z] + rnormal()*0.1);\n            zs.push(seen_cluster.indexOf(z))\n        }\n        else{\n            vs.push(rbeta(1,alpha))\n            new_prob = 1\n            for (let i = 0; i &lt; vs.length-1; i++) {\n                new_prob = new_prob*(1-vs[i])\n            }\n            new_prob = new_prob*vs[vs.length-1]\n            pi[pi.length-1] = new_prob\n            pi = pi.concat([1-sum(pi)])\n        \n            seen_cluster.push(z)\n            means_x.push(rnormal())\n            means_y.push(rnormal())\n\n            x.push(means_x[z] + rnormal()*0.1);\n            y.push(means_y[z] + rnormal()*0.1);\n            zs.push(seen_cluster.indexOf(z))\n        }  \n        source.change.emit();\n    }\n    \n    if ((x.length == 0)){\n        var looop = setInterval(update, 10);\n    }\n\n    if(cb_obj.active == false){\n        cb_obj.label = '\u25ba Play';\n    }\n    else {\n        cb_obj.label = '\u275a\u275a Pause';\n\n    }\n    \n"},"id":"11460","type":"CustomJS"},{"attributes":{},"id":"2365","type":"BasicTicker"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"red"},"hatch_alpha":{"value":0.1},"hatch_color":{"value":"red"},"line_alpha":{"value":0.1},"line_color":{"value":"red"},"x":{"field":"o_x"},"y":{"field":"o_y"}},"id":"11455","type":"Scatter"}],"root_ids":["11463"]},"title":"Bokeh Application","version":"2.4.2"}}
        </script>
        <script type="text/javascript">
          (function() {
            const fn = function() {
              Bokeh.safely(function() {
                (function(root) {
                  function embed_document(root) {
                    
                  const docs_json = document.getElementById('12690').textContent;
                  const render_items = [{"docid":"411e3b73-4fa5-4dfb-8ce7-8d532d5917ec","root_ids":["11463"],"roots":{"11463":"742c8eb2-76f1-4366-b77f-87aa3e04d17f"}}];
                  root.Bokeh.embed.embed_items(docs_json, render_items);
                
                  }
                  if (root.Bokeh !== undefined) {
                    embed_document(root);
                  } else {
                    let attempts = 0;
                    const timer = setInterval(function(root) {
                      if (root.Bokeh !== undefined) {
                        clearInterval(timer);
                        embed_document(root);
                      } else {
                        attempts++;
                        if (attempts > 100) {
                          clearInterval(timer);
                          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
                        }
                      }
                    }, 10, root)
                  }
                })(window);
              });
            };
            if (document.readyState != "loading") fn();
            else document.addEventListener("DOMContentLoaded", fn);
          })();
        </script>
    
  </body>
  
</html>